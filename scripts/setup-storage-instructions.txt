#!/bin/bash

# ============================================
# SUPABASE STORAGE SETUP INSTRUCTIONS
# ============================================

echo "ðŸš€ INSTRUKCJE KONFIGURACJI SUPABASE STORAGE"
echo "=============================================="
echo ""
echo "1. PrzejdÅº do Supabase Dashboard:"
echo "   https://supabase.com/dashboard/project/dtnotuyagygexmkyqtgb"
echo ""
echo "2. Kliknij na 'Storage' w lewym menu"
echo ""
echo "3. UtwÃ³rz nowy bucket:"
echo "   - Nazwa: project-files"
echo "   - Public: false (pliki prywatne)"
echo ""
echo "4. Skonfiguruj RLS policies dla bucket'a:"
echo ""
echo "-- Policy 1: Upload files"
echo "CREATE POLICY \"Authenticated users can upload files\" ON storage.objects"
echo "FOR INSERT TO authenticated"
echo "WITH CHECK (bucket_id = 'project-files');"
echo ""
echo "-- Policy 2: View files"  
echo "CREATE POLICY \"Users can view project files\" ON storage.objects"
echo "FOR SELECT TO authenticated"
echo "USING (bucket_id = 'project-files');"
echo ""
echo "-- Policy 3: Update files"
echo "CREATE POLICY \"Users can update their files\" ON storage.objects"
echo "FOR UPDATE TO authenticated"
echo "USING (bucket_id = 'project-files' AND auth.uid()::text = (storage.foldername(name))[1]);"
echo ""
echo "-- Policy 4: Delete files"
echo "CREATE POLICY \"Users can delete their files\" ON storage.objects"
echo "FOR DELETE TO authenticated"
echo "USING (bucket_id = 'project-files' AND auth.uid()::text = (storage.foldername(name))[1]);"
echo ""
echo "5. Po konfiguracji wrÃ³Ä‡ tutaj i uruchom nastÄ™pny skrypt"
echo ""
echo "âœ… BUCKET GOTOWY DO UÅ»YCIA!"